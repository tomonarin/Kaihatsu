<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link th:href="@{/css/BaseDesign.css}" rel="stylesheet">
<title>ログインスタンプ</title>
</head>
<body>
	<header>
		<img alt="" src="/css/images/siteLogo.png;" class="logo"> <span
			th:replace="header"></span>
	</header>
	<br>
	<br>
	<br>

	<br>
	<br>
	<form action="/stamp" id="form" method="post" name="form">
		<a href="#" onclick="submit();">今日のログインスタンプを押す！</a><br> <br>
	</form>

	<span th:text="${message}" style="color: red"></span>
	<br>
	<br>

	<div th:if="${stamp eq 0}">
		<span th:text="${session. accountInfo.name}"></span> さんのスタンプはまだありません
	</div>

	<div th:if="${stamp ne 0}">
		<span th:text="${session. accountInfo.name}"></span> さんのスタンプは<br>

		<h3>
			<span th:text="${stamp}"></span>個！
		</h3>

		<p class="stamp" th:each="i:${#numbers.sequence(1,__${stamp}__)}">
			<img src="css/images/stamp.png">
		</p>
	</div>



	<script th:inline="javascript">

	/*<![CDATA[*/
	var data = /*[[${tf}]]*/;

	var count = /*[[${stamp}]]*/;

	/*]]>*/
	function f() {
		if (data == true) {
			setTimeout(function(){
				if(count == 10){
					alert("おめでとうございます！\nスタンプが10個溜まったので、シルバーランクに昇格しました！");
				}else if(count == 20){
					alert("おめでとうございます！\nスタンプが20個溜まったので、ゴールドランクに昇格しました！");
				}else{
					alert("ログインありがとうございます！\n本日分のスタンプが追加されました！");
				}
				}, 100);
		}
	}

	window.onload=f;

		function submit() {
				document.form.submit();
			}
	</script>

</body>
</html>